import{r as l,j as e,P as x,i as b,a as f,s as j,u as v,g as y,b as k,d as C,p as N}from"./index-BZd2uWA1.js";const B=({onClose:n})=>{const[i,d]=l.useState(""),[s,u]=l.useState(null),[c,h]=l.useState(""),m=async a=>{if(a.target.files.length>0){const r=a.target.files[0],o={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{const t=await b(r,o);u(t)}catch(t){console.error("Error al comprimir la imagen:",t),alert("Hubo un error al comprimir la imagen.")}}},p=async a=>{if(a.preventDefault(),!s){alert("Por favor, seleccione una imagen.");return}try{const r=f(j,`banners/${s.name}`);await v(r,s);const o=await y(r),t=k(C,"banners/");await N(t,{title:i,photoURL:o,link:c}),alert("Banner guardado con éxito"),n()}catch(r){console.error("Error al guardar el banner:",r),alert("Hubo un error al guardar el banner.")}},g=a=>{a.target.classList.contains("banner-modal-overlay")&&n()};return e.jsx("div",{className:"banner-modal-overlay",onClick:g,children:e.jsxs("div",{className:"banner-modal-content",children:[e.jsx("h2",{children:"Cargar Banner"}),e.jsxs("form",{className:"banner-form",onSubmit:p,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"title",children:"Título"}),e.jsx("input",{id:"title",type:"text",value:i,onChange:a=>d(a.target.value),placeholder:"Ingrese el título"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"photo",children:"Banner"}),e.jsx("input",{id:"photo",type:"file",accept:"image/*",onChange:m})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"link",children:"Link"}),e.jsx("input",{id:"link",type:"text",value:c,onChange:a=>h(a.target.value),placeholder:"Ingrese el enlace"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",children:"Guardar"}),e.jsx("button",{type:"button",onClick:n,children:"Cancelar"})]})]})]})})};B.propTypes={onClose:x.func.isRequired};export{B as default};
