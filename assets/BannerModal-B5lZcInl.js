import{r as ve,j as z,P as ut,a as Me,d as ke,g as ht,b as Ze,s as Ve,u as dt,c as gt,p as ze,e as pt,f as vt}from"./index-C9fVu3PK.js";function mt(T,S){return S.forEach(function(O){O&&typeof O!="string"&&!Array.isArray(O)&&Object.keys(O).forEach(function(h){if(h!=="default"&&!(h in T)){var e=Object.getOwnPropertyDescriptor(O,h);Object.defineProperty(T,h,e.get?e:{enumerable:!0,get:function(){return O[h]}})}})}),Object.freeze(T)}function Ye(T,S){return new Promise(function(O,h){let e;return bt(T).then(function(t){try{return e=t,O(new Blob([S.slice(0,2),e,S.slice(2)],{type:"image/jpeg"}))}catch(u){return h(u)}},h)})}const bt=T=>new Promise((S,O)=>{const h=new FileReader;h.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let u=0;if(t.getUint16(u)!==65496)return O("not a valid JPEG");for(u+=2;;){const a=t.getUint16(u);if(a===65498)break;const v=t.getUint16(u+2);if(a===65505&&t.getUint32(u+4)===1165519206){const w=u+10;let r;switch(t.getUint16(w)){case 18761:r=!0;break;case 19789:r=!1;break;default:return O("TIFF header contains invalid endian")}if(t.getUint16(w+2,r)!==42)return O("TIFF header contains invalid version");const i=t.getUint32(w+4,r),n=w+i+2+12*t.getUint16(w+i,r);for(let l=w+i+2;l<n;l+=12)if(t.getUint16(l,r)==274){if(t.getUint16(l+2,r)!==3)return O("Orientation data type is invalid");if(t.getUint32(l+4,r)!==1)return O("Orientation data count is invalid");t.setUint16(l+8,1,r);break}return S(e.slice(u,u+2+v))}u+=2+v}return S(new Blob)}),h.readAsArrayBuffer(T)});var Le={},yt={get exports(){return Le},set exports(T){Le=T}};(function(T){var S,O,h={};yt.exports=h,h.parse=function(e,t){for(var u=h.bin.readUshort,a=h.bin.readUint,v=0,w={},r=new Uint8Array(e),i=r.length-4;a(r,i)!=101010256;)i--;v=i,v+=4;var n=u(r,v+=4);u(r,v+=2);var l=a(r,v+=2),g=a(r,v+=4);v+=4,v=g;for(var U=0;U<n;U++){a(r,v),v+=4,v+=4,v+=4,a(r,v+=4),l=a(r,v+=4);var _=a(r,v+=4),b=u(r,v+=4),L=u(r,v+2),M=u(r,v+4);v+=6;var E=a(r,v+=8);v+=4,v+=b+L+M,h._readLocal(r,E,w,l,_,t)}return w},h._readLocal=function(e,t,u,a,v,w){var r=h.bin.readUshort,i=h.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var l=r(e,t+=8),g=r(e,t+=2);t+=2;var U=h.bin.readUTF8(e,t,l);if(t+=l,t+=g,w)u[U]={size:v,csize:a};else{var _=new Uint8Array(e.buffer,t);if(n==0)u[U]=new Uint8Array(_.buffer.slice(t,t+a));else{if(n!=8)throw"unknown compression method: "+n;var b=new Uint8Array(v);h.inflateRaw(_,b),u[U]=b}}},h.inflateRaw=function(e,t){return h.F.inflate(e,t)},h.inflate=function(e,t){return e[0],e[1],h.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},h.deflate=function(e,t){t==null&&(t={level:6});var u=0,a=new Uint8Array(50+Math.floor(1.1*e.length));a[u]=120,a[u+1]=156,u+=2,u=h.F.deflateRaw(e,a,u,t.level);var v=h.adler(e,0,e.length);return a[u+0]=v>>>24&255,a[u+1]=v>>>16&255,a[u+2]=v>>>8&255,a[u+3]=v>>>0&255,new Uint8Array(a.buffer,0,u+4)},h.deflateRaw=function(e,t){t==null&&(t={level:6});var u=new Uint8Array(50+Math.floor(1.1*e.length)),a=h.F.deflateRaw(e,u,a,t.level);return new Uint8Array(u.buffer,0,a)},h.encode=function(e,t){t==null&&(t=!1);var u=0,a=h.bin.writeUint,v=h.bin.writeUshort,w={};for(var r in e){var i=!h._noNeed(r)&&!t,n=e[r],l=h.crc.crc(n,0,n.length);w[r]={cpr:i,usize:n.length,crc:l,file:i?h.deflateRaw(n):n}}for(var r in w)u+=w[r].file.length+30+46+2*h.bin.sizeUTF8(r);u+=22;var g=new Uint8Array(u),U=0,_=[];for(var r in w){var b=w[r];_.push(U),U=h._writeHeader(g,U,r,b,0)}var L=0,M=U;for(var r in w)b=w[r],_.push(U),U=h._writeHeader(g,U,r,b,1,_[L++]);var E=U-M;return a(g,U,101010256),U+=4,v(g,U+=4,L),v(g,U+=2,L),a(g,U+=2,E),a(g,U+=4,M),U+=4,U+=2,g.buffer},h._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},h._writeHeader=function(e,t,u,a,v,w){var r=h.bin.writeUint,i=h.bin.writeUshort,n=a.file;return r(e,t,v==0?67324752:33639248),t+=4,v==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,a.cpr?8:0),r(e,t+=2,0),r(e,t+=4,a.crc),r(e,t+=4,n.length),r(e,t+=4,a.usize),i(e,t+=4,h.bin.sizeUTF8(u)),i(e,t+=2,0),t+=2,v==1&&(t+=2,t+=2,r(e,t+=6,w),t+=4),t+=h.bin.writeUTF8(e,t,u),v==0&&(e.set(n,t),t+=n.length),t},h.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var u=t,a=0;a<8;a++)1&u?u=3988292384^u>>>1:u>>>=1;e[t]=u}return e}(),update:function(e,t,u,a){for(var v=0;v<a;v++)e=h.crc.table[255&(e^t[u+v])]^e>>>8;return e},crc:function(e,t,u){return 4294967295^h.crc.update(4294967295,e,t,u)}},h.adler=function(e,t,u){for(var a=1,v=0,w=t,r=t+u;w<r;){for(var i=Math.min(w+5552,r);w<i;)v+=a+=e[w++];a%=65521,v%=65521}return v<<16|a},h.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,u){e[t]=255&u,e[t+1]=u>>8&255,e[t+2]=u>>16&255,e[t+3]=u>>24&255},readASCII:function(e,t,u){for(var a="",v=0;v<u;v++)a+=String.fromCharCode(e[t+v]);return a},writeASCII:function(e,t,u){for(var a=0;a<u.length;a++)e[t+a]=u.charCodeAt(a)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,u){for(var a,v="",w=0;w<u;w++)v+="%"+h.bin.pad(e[t+w].toString(16));try{a=decodeURIComponent(v)}catch{return h.bin.readASCII(e,t,u)}return a},writeUTF8:function(e,t,u){for(var a=u.length,v=0,w=0;w<a;w++){var r=u.charCodeAt(w);if(!(4294967168&r))e[t+v]=r,v++;else if(!(4294965248&r))e[t+v]=192|r>>6,e[t+v+1]=128|r>>0&63,v+=2;else if(!(4294901760&r))e[t+v]=224|r>>12,e[t+v+1]=128|r>>6&63,e[t+v+2]=128|r>>0&63,v+=3;else{if(4292870144&r)throw"e";e[t+v]=240|r>>18,e[t+v+1]=128|r>>12&63,e[t+v+2]=128|r>>6&63,e[t+v+3]=128|r>>0&63,v+=4}}return v},sizeUTF8:function(e){for(var t=e.length,u=0,a=0;a<t;a++){var v=e.charCodeAt(a);if(!(4294967168&v))u++;else if(!(4294965248&v))u+=2;else if(!(4294901760&v))u+=3;else{if(4292870144&v)throw"e";u+=4}}return u}},h.F={},h.F.deflateRaw=function(e,t,u,a){var v=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],w=h.F.U,r=h.F._goodIndex;h.F._hash;var i=h.F._putsE,n=0,l=u<<3,g=0,U=e.length;if(a==0){for(;n<U;)i(t,l,n+(y=Math.min(65535,U-n))==U?1:0),l=h.F._copyExact(e,n,y,t,l+8),n+=y;return l>>>3}var _=w.lits,b=w.strt,L=w.prev,M=0,E=0,j=0,d=0,I=0,o=0;for(U>2&&(b[o=h.F._hash(e,0)]=0),n=0;n<U;n++){if(I=o,n+1<U-2){o=h.F._hash(e,n+1);var f=n+1&32767;L[f]=b[o],b[o]=f}if(g<=n){(M>14e3||E>26697)&&U-n>100&&(g<n&&(_[M]=n-g,M+=2,g=n),l=h.F._writeBlock(n==U-1||g==U?1:0,_,M,d,e,j,n-j,t,l),M=E=d=0,j=n);var p=0;n<U-2&&(p=h.F._bestMatch(e,n,L,I,Math.min(v[2],U-n),v[3]));var y=p>>>16,A=65535&p;if(p!=0){A=65535&p;var F=r(y=p>>>16,w.of0);w.lhst[257+F]++;var m=r(A,w.df0);w.dhst[m]++,d+=w.exb[F]+w.dxb[m],_[M]=y<<23|n-g,_[M+1]=A<<16|F<<8|m,M+=2,g=n+y}else w.lhst[e[n]]++;E++}}for(j==n&&e.length!=0||(g<n&&(_[M]=n-g,M+=2,g=n),l=h.F._writeBlock(1,_,M,d,e,j,n-j,t,l),M=0,E=0,M=E=d=0,j=n);7&l;)l++;return l>>>3},h.F._bestMatch=function(e,t,u,a,v,w){var r=32767&t,i=u[r],n=r-i+32768&32767;if(i==r||a!=h.F._hash(e,t-n))return 0;for(var l=0,g=0,U=Math.min(32767,t);n<=U&&--w!=0&&i!=r;){if(l==0||e[t+l]==e[t+l-n]){var _=h.F._howLong(e,t,n);if(_>l){if(g=n,(l=_)>=v)break;n+2<_&&(_=n+2);for(var b=0,L=0;L<_-2;L++){var M=t-n+L+32768&32767,E=M-u[M]+32768&32767;E>b&&(b=E,i=M)}}}n+=(r=i)-(i=u[r])+32768&32767}return l<<16|g},h.F._howLong=function(e,t,u){if(e[t]!=e[t-u]||e[t+1]!=e[t+1-u]||e[t+2]!=e[t+2-u])return 0;var a=t,v=Math.min(e.length,t+258);for(t+=3;t<v&&e[t]==e[t-u];)t++;return t-a},h.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},h.saved=0,h.F._writeBlock=function(e,t,u,a,v,w,r,i,n){var l,g,U,_,b,L,M,E,j,d=h.F.U,I=h.F._putsF,o=h.F._putsE;d.lhst[256]++,g=(l=h.F.getTrees())[0],U=l[1],_=l[2],b=l[3],L=l[4],M=l[5],E=l[6],j=l[7];var f=32+(n+3&7?8-(n+3&7):0)+(r<<3),p=a+h.F.contSize(d.fltree,d.lhst)+h.F.contSize(d.fdtree,d.dhst),y=a+h.F.contSize(d.ltree,d.lhst)+h.F.contSize(d.dtree,d.dhst);y+=14+3*M+h.F.contSize(d.itree,d.ihst)+(2*d.ihst[16]+3*d.ihst[17]+7*d.ihst[18]);for(var A=0;A<286;A++)d.lhst[A]=0;for(A=0;A<30;A++)d.dhst[A]=0;for(A=0;A<19;A++)d.ihst[A]=0;var F=f<p&&f<y?0:p<y?1:2;if(I(i,n,e),I(i,n+1,F),n+=3,F==0){for(;7&n;)n++;n=h.F._copyExact(v,w,r,i,n)}else{var m,C;if(F==1&&(m=d.fltree,C=d.fdtree),F==2){h.F.makeCodes(d.ltree,g),h.F.revCodes(d.ltree,g),h.F.makeCodes(d.dtree,U),h.F.revCodes(d.dtree,U),h.F.makeCodes(d.itree,_),h.F.revCodes(d.itree,_),m=d.ltree,C=d.dtree,o(i,n,b-257),o(i,n+=5,L-1),o(i,n+=5,M-4),n+=4;for(var c=0;c<M;c++)o(i,n+3*c,d.itree[1+(d.ordr[c]<<1)]);n+=3*M,n=h.F._codeTiny(E,d.itree,i,n),n=h.F._codeTiny(j,d.itree,i,n)}for(var s=w,k=0;k<u;k+=2){for(var x=t[k],P=x>>>23,B=s+(8388607&x);s<B;)n=h.F._writeLit(v[s++],m,i,n);if(P!=0){var D=t[k+1],N=D>>16,H=D>>8&255,R=255&D;o(i,n=h.F._writeLit(257+H,m,i,n),P-d.of0[H]),n+=d.exb[H],I(i,n=h.F._writeLit(R,C,i,n),N-d.df0[R]),n+=d.dxb[R],s+=P}}n=h.F._writeLit(256,m,i,n)}return n},h.F._copyExact=function(e,t,u,a,v){var w=v>>>3;return a[w]=u,a[w+1]=u>>>8,a[w+2]=255-a[w],a[w+3]=255-a[w+1],w+=4,a.set(new Uint8Array(e.buffer,t,u),w),v+(u+4<<3)},h.F.getTrees=function(){for(var e=h.F.U,t=h.F._hufTree(e.lhst,e.ltree,15),u=h.F._hufTree(e.dhst,e.dtree,15),a=[],v=h.F._lenCodes(e.ltree,a),w=[],r=h.F._lenCodes(e.dtree,w),i=0;i<a.length;i+=2)e.ihst[a[i]]++;for(i=0;i<w.length;i+=2)e.ihst[w[i]]++;for(var n=h.F._hufTree(e.ihst,e.itree,7),l=19;l>4&&e.itree[1+(e.ordr[l-1]<<1)]==0;)l--;return[t,u,n,v,r,l,a,w]},h.F.getSecond=function(e){for(var t=[],u=0;u<e.length;u+=2)t.push(e[u+1]);return t},h.F.nonZero=function(e){for(var t="",u=0;u<e.length;u+=2)e[u+1]!=0&&(t+=(u>>1)+",");return t},h.F.contSize=function(e,t){for(var u=0,a=0;a<t.length;a++)u+=t[a]*e[1+(a<<1)];return u},h.F._codeTiny=function(e,t,u,a){for(var v=0;v<e.length;v+=2){var w=e[v],r=e[v+1];a=h.F._writeLit(w,t,u,a);var i=w==16?2:w==17?3:7;w>15&&(h.F._putsE(u,a,r,i),a+=i)}return a},h.F._lenCodes=function(e,t){for(var u=e.length;u!=2&&e[u-1]==0;)u-=2;for(var a=0;a<u;a+=2){var v=e[a+1],w=a+3<u?e[a+3]:-1,r=a+5<u?e[a+5]:-1,i=a==0?-1:e[a-1];if(v==0&&w==v&&r==v){for(var n=a+5;n+2<u&&e[n+2]==v;)n+=2;(l=Math.min(n+1-a>>>1,138))<11?t.push(17,l-3):t.push(18,l-11),a+=2*l-2}else if(v==i&&w==v&&r==v){for(n=a+5;n+2<u&&e[n+2]==v;)n+=2;var l=Math.min(n+1-a>>>1,6);t.push(16,l-3),a+=2*l-2}else t.push(v,0)}return u>>>1},h.F._hufTree=function(e,t,u){var a=[],v=e.length,w=t.length,r=0;for(r=0;r<w;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<v;r++)e[r]!=0&&a.push({lit:r,f:e[r]});var i=a.length,n=a.slice(0);if(i==0)return 0;if(i==1){var l=a[0].lit;return n=l==0?1:0,t[1+(l<<1)]=1,t[1+(n<<1)]=1,1}a.sort(function(E,j){return E.f-j.f});var g=a[0],U=a[1],_=0,b=1,L=2;for(a[0]={lit:-1,f:g.f+U.f,l:g,r:U,d:0};b!=i-1;)g=_!=b&&(L==i||a[_].f<a[L].f)?a[_++]:a[L++],U=_!=b&&(L==i||a[_].f<a[L].f)?a[_++]:a[L++],a[b++]={lit:-1,f:g.f+U.f,l:g,r:U};var M=h.F.setDepth(a[b-1],0);for(M>u&&(h.F.restrictDepth(n,u,M),M=u),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return M},h.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(h.F.setDepth(e.l,t+1),h.F.setDepth(e.r,t+1))},h.F.restrictDepth=function(e,t,u){var a=0,v=1<<u-t,w=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),a=0;a<e.length&&e[a].d>t;a++){var r=e[a].d;e[a].d=t,w+=v-(1<<u-r)}for(w>>>=u-t;w>0;)(r=e[a].d)<t?(e[a].d++,w-=1<<t-r-1):a++;for(;a>=0;a--)e[a].d==t&&w<0&&(e[a].d--,w++);w!=0&&console.log("debt left")},h.F._goodIndex=function(e,t){var u=0;return t[16|u]<=e&&(u|=16),t[8|u]<=e&&(u|=8),t[4|u]<=e&&(u|=4),t[2|u]<=e&&(u|=2),t[1|u]<=e&&(u|=1),u},h.F._writeLit=function(e,t,u,a){return h.F._putsF(u,a,t[e<<1]),a+t[1+(e<<1)]},h.F.inflate=function(e,t){var u=Uint8Array;if(e[0]==3&&e[1]==0)return t||new u(0);var a=h.F,v=a._bitsF,w=a._bitsE,r=a._decodeTiny,i=a.makeCodes,n=a.codes2map,l=a._get17,g=a.U,U=t==null;U&&(t=new u(e.length>>>2<<3));for(var _,b,L=0,M=0,E=0,j=0,d=0,I=0,o=0,f=0,p=0;L==0;)if(L=v(e,p,1),M=v(e,p+1,2),p+=3,M!=0){if(U&&(t=h.F._check(t,f+(1<<17))),M==1&&(_=g.flmap,b=g.fdmap,I=511,o=31),M==2){E=w(e,p,5)+257,j=w(e,p+5,5)+1,d=w(e,p+10,4)+4,p+=14;for(var y=0;y<38;y+=2)g.itree[y]=0,g.itree[y+1]=0;var A=1;for(y=0;y<d;y++){var F=w(e,p+3*y,3);g.itree[1+(g.ordr[y]<<1)]=F,F>A&&(A=F)}p+=3*d,i(g.itree,A),n(g.itree,A,g.imap),_=g.lmap,b=g.dmap,p=r(g.imap,(1<<A)-1,E+j,e,p,g.ttree);var m=a._copyOut(g.ttree,0,E,g.ltree);I=(1<<m)-1;var C=a._copyOut(g.ttree,E,j,g.dtree);o=(1<<C)-1,i(g.ltree,m),n(g.ltree,m,_),i(g.dtree,C),n(g.dtree,C,b)}for(;;){var c=_[l(e,p)&I];p+=15&c;var s=c>>>4;if(!(s>>>8))t[f++]=s;else{if(s==256)break;var k=f+s-254;if(s>264){var x=g.ldef[s-257];k=f+(x>>>3)+w(e,p,7&x),p+=7&x}var P=b[l(e,p)&o];p+=15&P;var B=P>>>4,D=g.ddef[B],N=(D>>>4)+v(e,p,15&D);for(p+=15&D,U&&(t=h.F._check(t,f+(1<<17)));f<k;)t[f]=t[f++-N],t[f]=t[f++-N],t[f]=t[f++-N],t[f]=t[f++-N];f=k}}}else{7&p&&(p+=8-(7&p));var H=4+(p>>>3),R=e[H-4]|e[H-3]<<8;U&&(t=h.F._check(t,f+R)),t.set(new u(e.buffer,e.byteOffset+H,R),f),p=H+R<<3,f+=R}return t.length==f?t:t.slice(0,f)},h.F._check=function(e,t){var u=e.length;if(t<=u)return e;var a=new Uint8Array(Math.max(u<<1,t));return a.set(e,0),a},h.F._decodeTiny=function(e,t,u,a,v,w){for(var r=h.F._bitsE,i=h.F._get17,n=0;n<u;){var l=e[i(a,v)&t];v+=15&l;var g=l>>>4;if(g<=15)w[n]=g,n++;else{var U=0,_=0;g==16?(_=3+r(a,v,2),v+=2,U=w[n-1]):g==17?(_=3+r(a,v,3),v+=3):g==18&&(_=11+r(a,v,7),v+=7);for(var b=n+_;n<b;)w[n]=U,n++}}return v},h.F._copyOut=function(e,t,u,a){for(var v=0,w=0,r=a.length>>>1;w<u;){var i=e[w+t];a[w<<1]=0,a[1+(w<<1)]=i,i>v&&(v=i),w++}for(;w<r;)a[w<<1]=0,a[1+(w<<1)]=0,w++;return v},h.F.makeCodes=function(e,t){for(var u,a,v,w,r=h.F.U,i=e.length,n=r.bl_count,l=0;l<=t;l++)n[l]=0;for(l=1;l<i;l+=2)n[e[l]]++;var g=r.next_code;for(u=0,n[0]=0,a=1;a<=t;a++)u=u+n[a-1]<<1,g[a]=u;for(v=0;v<i;v+=2)(w=e[v+1])!=0&&(e[v]=g[w],g[w]++)},h.F.codes2map=function(e,t,u){for(var a=e.length,v=h.F.U.rev15,w=0;w<a;w+=2)if(e[w+1]!=0)for(var r=w>>1,i=e[w+1],n=r<<4|i,l=t-i,g=e[w]<<l,U=g+(1<<l);g!=U;)u[v[g]>>>15-t]=n,g++},h.F.revCodes=function(e,t){for(var u=h.F.U.rev15,a=15-t,v=0;v<e.length;v+=2){var w=e[v]<<t-e[v+1];e[v]=u[w]>>>a}},h.F._putsE=function(e,t,u){u<<=7&t;var a=t>>>3;e[a]|=u,e[a+1]|=u>>>8},h.F._putsF=function(e,t,u){u<<=7&t;var a=t>>>3;e[a]|=u,e[a+1]|=u>>>8,e[a+2]|=u>>>16},h.F._bitsE=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<u)-1},h.F._bitsF=function(e,t,u){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<u)-1},h.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},h.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},h.F.U=(S=Uint16Array,O=Uint32Array,{next_code:new S(16),bl_count:new S(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new S(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new O(32),flmap:new S(512),fltree:[],fdmap:new S(32),fdtree:[],lmap:new S(32768),ltree:[],ttree:[],dmap:new S(32768),dtree:[],imap:new S(512),itree:[],rev15:new S(32768),lhst:new O(286),dhst:new O(30),ihst:new O(19),lits:new O(15e3),strt:new S(65536),prev:new S(32768)}),function(){for(var e=h.F.U,t=0;t<32768;t++){var u=t;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,e.rev15[t]=(u>>>16|u<<16)>>>17}function a(v,w,r){for(;w--!=0;)v.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];a(e.fltree,144,8),a(e.fltree,112,9),a(e.fltree,24,7),a(e.fltree,8,8),h.F.makeCodes(e.fltree,9),h.F.codes2map(e.fltree,9,e.flmap),h.F.revCodes(e.fltree,9),a(e.fdtree,32,5),h.F.makeCodes(e.fdtree,5),h.F.codes2map(e.fdtree,5,e.fdmap),h.F.revCodes(e.fdtree,5),a(e.itree,19,0),a(e.ltree,286,0),a(e.dtree,30,0),a(e.ttree,320,0)}()})();var wt=mt({__proto__:null,default:Le},[Le]);const de=function(){var T={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let l="";for(let g=0;g<n;g++)l+=String.fromCharCode(r[i+g]);return l},writeASCII(r,i,n){for(let l=0;l<n.length;l++)r[i+l]=n.charCodeAt(l)},readBytes(r,i,n){const l=[];for(let g=0;g<n;g++)l.push(r[i+g]);return l},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let l,g="";for(let U=0;U<n;U++)g+=`%${T.pad(r[i+U].toString(16))}`;try{l=decodeURIComponent(g)}catch{return T.readASCII(r,i,n)}return l}};function S(r,i,n,l){const g=i*n,U=t(l),_=Math.ceil(i*U/8),b=new Uint8Array(4*g),L=new Uint32Array(b.buffer),{ctype:M}=l,{depth:E}=l,j=T.readUshort;if(M==6){const x=g<<2;if(E==8)for(var d=0;d<x;d+=4)b[d]=r[d],b[d+1]=r[d+1],b[d+2]=r[d+2],b[d+3]=r[d+3];if(E==16)for(d=0;d<x;d++)b[d]=r[d<<1]}else if(M==2){const x=l.tabs.tRNS;if(x==null){if(E==8)for(d=0;d<g;d++){var I=3*d;L[d]=255<<24|r[I+2]<<16|r[I+1]<<8|r[I]}if(E==16)for(d=0;d<g;d++)I=6*d,L[d]=255<<24|r[I+4]<<16|r[I+2]<<8|r[I]}else{var o=x[0];const P=x[1],B=x[2];if(E==8)for(d=0;d<g;d++){var f=d<<2;I=3*d,L[d]=255<<24|r[I+2]<<16|r[I+1]<<8|r[I],r[I]==o&&r[I+1]==P&&r[I+2]==B&&(b[f+3]=0)}if(E==16)for(d=0;d<g;d++)f=d<<2,I=6*d,L[d]=255<<24|r[I+4]<<16|r[I+2]<<8|r[I],j(r,I)==o&&j(r,I+2)==P&&j(r,I+4)==B&&(b[f+3]=0)}}else if(M==3){const x=l.tabs.PLTE,P=l.tabs.tRNS,B=P?P.length:0;if(E==1)for(var p=0;p<n;p++){var y=p*_,A=p*i;for(d=0;d<i;d++){f=A+d<<2;var F=3*(m=r[y+(d>>3)]>>7-((7&d)<<0)&1);b[f]=x[F],b[f+1]=x[F+1],b[f+2]=x[F+2],b[f+3]=m<B?P[m]:255}}if(E==2)for(p=0;p<n;p++)for(y=p*_,A=p*i,d=0;d<i;d++)f=A+d<<2,F=3*(m=r[y+(d>>2)]>>6-((3&d)<<1)&3),b[f]=x[F],b[f+1]=x[F+1],b[f+2]=x[F+2],b[f+3]=m<B?P[m]:255;if(E==4)for(p=0;p<n;p++)for(y=p*_,A=p*i,d=0;d<i;d++)f=A+d<<2,F=3*(m=r[y+(d>>1)]>>4-((1&d)<<2)&15),b[f]=x[F],b[f+1]=x[F+1],b[f+2]=x[F+2],b[f+3]=m<B?P[m]:255;if(E==8)for(d=0;d<g;d++){var m;f=d<<2,F=3*(m=r[d]),b[f]=x[F],b[f+1]=x[F+1],b[f+2]=x[F+2],b[f+3]=m<B?P[m]:255}}else if(M==4){if(E==8)for(d=0;d<g;d++){f=d<<2;var C=r[c=d<<1];b[f]=C,b[f+1]=C,b[f+2]=C,b[f+3]=r[c+1]}if(E==16)for(d=0;d<g;d++){var c;f=d<<2,C=r[c=d<<2],b[f]=C,b[f+1]=C,b[f+2]=C,b[f+3]=r[c+2]}}else if(M==0)for(o=l.tabs.tRNS?l.tabs.tRNS:-1,p=0;p<n;p++){const x=p*_,P=p*i;if(E==1)for(var s=0;s<i;s++){var k=(C=255*(r[x+(s>>>3)]>>>7-(7&s)&1))==255*o?0:255;L[P+s]=k<<24|C<<16|C<<8|C}else if(E==2)for(s=0;s<i;s++)k=(C=85*(r[x+(s>>>2)]>>>6-((3&s)<<1)&3))==85*o?0:255,L[P+s]=k<<24|C<<16|C<<8|C;else if(E==4)for(s=0;s<i;s++)k=(C=17*(r[x+(s>>>1)]>>>4-((1&s)<<2)&15))==17*o?0:255,L[P+s]=k<<24|C<<16|C<<8|C;else if(E==8)for(s=0;s<i;s++)k=(C=r[x+s])==o?0:255,L[P+s]=k<<24|C<<16|C<<8|C;else if(E==16)for(s=0;s<i;s++)C=r[x+(s<<1)],k=j(r,x+(s<<1))==o?0:255,L[P+s]=k<<24|C<<16|C<<8|C}return b}function O(r,i,n,l){const g=t(r),U=Math.ceil(n*g/8),_=new Uint8Array((U+1+r.interlace)*l);return i=r.tabs.CgBI?e(i,_):h(i,_),r.interlace==0?i=u(i,r,0,n,l):r.interlace==1&&(i=function(L,M){const E=M.width,j=M.height,d=t(M),I=d>>3,o=Math.ceil(E*d/8),f=new Uint8Array(j*o);let p=0;const y=[0,0,4,0,2,0,1],A=[0,4,0,2,0,1,0],F=[8,8,8,4,4,2,2],m=[8,8,4,4,2,2,1];let C=0;for(;C<7;){const s=F[C],k=m[C];let x=0,P=0,B=y[C];for(;B<j;)B+=s,P++;let D=A[C];for(;D<E;)D+=k,x++;const N=Math.ceil(x*d/8);u(L,M,p,x,P);let H=0,R=y[C];for(;R<j;){let $=A[C],Z=p+H*N<<3;for(;$<E;){var c;if(d==1&&(c=(c=L[Z>>3])>>7-(7&Z)&1,f[R*o+($>>3)]|=c<<7-((7&$)<<0)),d==2&&(c=(c=L[Z>>3])>>6-(7&Z)&3,f[R*o+($>>2)]|=c<<6-((3&$)<<1)),d==4&&(c=(c=L[Z>>3])>>4-(7&Z)&15,f[R*o+($>>1)]|=c<<4-((1&$)<<2)),d>=8){const W=R*o+$*I;for(let Q=0;Q<I;Q++)f[W+Q]=L[(Z>>3)+Q]}Z+=d,$+=k}H++,R+=s}x*P!=0&&(p+=P*(1+N)),C+=1}return f}(i,r)),i}function h(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const l=Uint8Array;let g,U,_=0,b=0,L=0,M=0,E=0,j=0,d=0,I=0,o=0;if(i[0]==3&&i[1]==0)return n||new l(0);const f=r.H,p=f.b,y=f.e,A=f.R,F=f.n,m=f.A,C=f.Z,c=f.m,s=n==null;for(s&&(n=new l(i.length>>>2<<5));_==0;)if(_=p(i,o,1),b=p(i,o+1,2),o+=3,b!=0){if(s&&(n=r.H.W(n,I+(1<<17))),b==1&&(g=c.J,U=c.h,j=511,d=31),b==2){L=y(i,o,5)+257,M=y(i,o+5,5)+1,E=y(i,o+10,4)+4,o+=14;let x=1;for(var k=0;k<38;k+=2)c.Q[k]=0,c.Q[k+1]=0;for(k=0;k<E;k++){const D=y(i,o+3*k,3);c.Q[1+(c.X[k]<<1)]=D,D>x&&(x=D)}o+=3*E,F(c.Q,x),m(c.Q,x,c.u),g=c.w,U=c.d,o=A(c.u,(1<<x)-1,L+M,i,o,c.v);const P=f.V(c.v,0,L,c.C);j=(1<<P)-1;const B=f.V(c.v,L,M,c.D);d=(1<<B)-1,F(c.C,P),m(c.C,P,g),F(c.D,B),m(c.D,B,U)}for(;;){const x=g[C(i,o)&j];o+=15&x;const P=x>>>4;if(!(P>>>8))n[I++]=P;else{if(P==256)break;{let B=I+P-254;if(P>264){const $=c.q[P-257];B=I+($>>>3)+y(i,o,7&$),o+=7&$}const D=U[C(i,o)&d];o+=15&D;const N=D>>>4,H=c.c[N],R=(H>>>4)+p(i,o,15&H);for(o+=15&H;I<B;)n[I]=n[I++-R],n[I]=n[I++-R],n[I]=n[I++-R],n[I]=n[I++-R];I=B}}}}else{7&o&&(o+=8-(7&o));const x=4+(o>>>3),P=i[x-4]|i[x-3]<<8;s&&(n=r.H.W(n,I+P)),n.set(new l(i.buffer,i.byteOffset+x,P),I),o=x+P<<3,I+=P}return n.length==I?n:n.slice(0,I)},r.H.W=function(i,n){const l=i.length;if(n<=l)return i;const g=new Uint8Array(l<<1);return g.set(i,0),g},r.H.R=function(i,n,l,g,U,_){const b=r.H.e,L=r.H.Z;let M=0;for(;M<l;){const E=i[L(g,U)&n];U+=15&E;const j=E>>>4;if(j<=15)_[M]=j,M++;else{let d=0,I=0;j==16?(I=3+b(g,U,2),U+=2,d=_[M-1]):j==17?(I=3+b(g,U,3),U+=3):j==18&&(I=11+b(g,U,7),U+=7);const o=M+I;for(;M<o;)_[M]=d,M++}}return U},r.H.V=function(i,n,l,g){let U=0,_=0;const b=g.length>>>1;for(;_<l;){const L=i[_+n];g[_<<1]=0,g[1+(_<<1)]=L,L>U&&(U=L),_++}for(;_<b;)g[_<<1]=0,g[1+(_<<1)]=0,_++;return U},r.H.n=function(i,n){const l=r.H.m,g=i.length;let U,_,b,L;const M=l.j;for(var E=0;E<=n;E++)M[E]=0;for(E=1;E<g;E+=2)M[i[E]]++;const j=l.K;for(U=0,M[0]=0,_=1;_<=n;_++)U=U+M[_-1]<<1,j[_]=U;for(b=0;b<g;b+=2)L=i[b+1],L!=0&&(i[b]=j[L],j[L]++)},r.H.A=function(i,n,l){const g=i.length,U=r.H.m.r;for(let _=0;_<g;_+=2)if(i[_+1]!=0){const b=_>>1,L=i[_+1],M=b<<4|L,E=n-L;let j=i[_]<<E;const d=j+(1<<E);for(;j!=d;)l[U[j]>>>15-n]=M,j++}},r.H.l=function(i,n){const l=r.H.m.r,g=15-n;for(let U=0;U<i.length;U+=2){const _=i[U]<<n-i[U+1];i[U]=l[_]>>>g}},r.H.M=function(i,n,l){l<<=7&n;const g=n>>>3;i[g]|=l,i[g+1]|=l>>>8},r.H.I=function(i,n,l){l<<=7&n;const g=n>>>3;i[g]|=l,i[g+1]|=l>>>8,i[g+2]|=l>>>16},r.H.e=function(i,n,l){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<l)-1},r.H.b=function(i,n,l){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<l)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let g=n;g=(2863311530&g)>>>1|(1431655765&g)<<1,g=(3435973836&g)>>>2|(858993459&g)<<2,g=(4042322160&g)>>>4|(252645135&g)<<4,g=(4278255360&g)>>>8|(16711935&g)<<8,i.r[n]=(g>>>16|g<<16)>>>17}function l(g,U,_){for(;U--!=0;)g.push(0,_)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];l(i._,144,8),l(i._,112,9),l(i._,24,7),l(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),l(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),l(i.Q,19,0),l(i.C,286,0),l(i.D,30,0),l(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function u(r,i,n,l,g){let U=t(i);const _=Math.ceil(l*U/8);let b,L;U=Math.ceil(U/8);let M=r[n],E=0;if(M>1&&(r[n]=[0,0,1][M-2]),M==3)for(E=U;E<_;E++)r[E+1]=r[E+1]+(r[E+1-U]>>>1)&255;for(let j=0;j<g;j++)if(b=n+j*_,L=b+j+1,M=r[L-1],E=0,M==0)for(;E<_;E++)r[b+E]=r[L+E];else if(M==1){for(;E<U;E++)r[b+E]=r[L+E];for(;E<_;E++)r[b+E]=r[L+E]+r[b+E-U]}else if(M==2)for(;E<_;E++)r[b+E]=r[L+E]+r[b+E-_];else if(M==3){for(;E<U;E++)r[b+E]=r[L+E]+(r[b+E-_]>>>1);for(;E<_;E++)r[b+E]=r[L+E]+(r[b+E-_]+r[b+E-U]>>>1)}else{for(;E<U;E++)r[b+E]=r[L+E]+a(0,r[b+E-_],0);for(;E<_;E++)r[b+E]=r[L+E]+a(r[b+E-U],r[b+E-_],r[b+E-U-_])}return r}function a(r,i,n){const l=r+i-n,g=l-r,U=l-i,_=l-n;return g*g<=U*U&&g*g<=_*_?r:U*U<=_*_?i:n}function v(r,i,n){n.width=T.readUint(r,i),i+=4,n.height=T.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function w(r,i,n,l,g,U,_,b,L){const M=Math.min(i,g),E=Math.min(n,U);let j=0,d=0;for(let C=0;C<E;C++)for(let c=0;c<M;c++)if(_>=0&&b>=0?(j=C*i+c<<2,d=(b+C)*g+_+c<<2):(j=(-b+C)*i-_+c<<2,d=C*g+c<<2),L==0)l[d]=r[j],l[d+1]=r[j+1],l[d+2]=r[j+2],l[d+3]=r[j+3];else if(L==1){var I=r[j+3]*.00392156862745098,o=r[j]*I,f=r[j+1]*I,p=r[j+2]*I,y=l[d+3]*(1/255),A=l[d]*y,F=l[d+1]*y,m=l[d+2]*y;const s=1-I,k=I+y*s,x=k==0?0:1/k;l[d+3]=255*k,l[d+0]=(o+A*s)*x,l[d+1]=(f+F*s)*x,l[d+2]=(p+m*s)*x}else if(L==2)I=r[j+3],o=r[j],f=r[j+1],p=r[j+2],y=l[d+3],A=l[d],F=l[d+1],m=l[d+2],I==y&&o==A&&f==F&&p==m?(l[d]=0,l[d+1]=0,l[d+2]=0,l[d+3]=0):(l[d]=o,l[d+1]=f,l[d+2]=p,l[d+3]=I);else if(L==3){if(I=r[j+3],o=r[j],f=r[j+1],p=r[j+2],y=l[d+3],A=l[d],F=l[d+1],m=l[d+2],I==y&&o==A&&f==F&&p==m)continue;if(I<220&&y>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let l=8;const g=T,U=g.readUshort,_=g.readUint,b={tabs:{},frames:[]},L=new Uint8Array(n.length);let M,E=0,j=0;const d=[137,80,78,71,13,10,26,10];for(var I=0;I<8;I++)if(n[I]!=d[I])throw"The input is not a PNG file!";for(;l<n.length;){const C=g.readUint(n,l);l+=4;const c=g.readASCII(n,l,4);if(l+=4,c=="IHDR")v(n,l,b);else if(c=="iCCP"){for(var o=l;n[o]!=0;)o++;g.readASCII(n,l,o-l),n[o+1];const s=n.slice(o+2,l+C);let k=null;try{k=h(s)}catch{k=e(s)}b.tabs[c]=k}else if(c=="CgBI")b.tabs[c]=n.slice(l,l+4);else if(c=="IDAT"){for(I=0;I<C;I++)L[E+I]=n[l+I];E+=C}else if(c=="acTL")b.tabs[c]={num_frames:_(n,l),num_plays:_(n,l+4)},M=new Uint8Array(n.length);else if(c=="fcTL"){j!=0&&((m=b.frames[b.frames.length-1]).data=O(b,M.slice(0,j),m.rect.width,m.rect.height),j=0);const s={x:_(n,l+12),y:_(n,l+16),width:_(n,l+4),height:_(n,l+8)};let k=U(n,l+22);k=U(n,l+20)/(k==0?100:k);const x={rect:s,delay:Math.round(1e3*k),dispose:n[l+24],blend:n[l+25]};b.frames.push(x)}else if(c=="fdAT"){for(I=0;I<C-4;I++)M[j+I]=n[l+I+4];j+=C-4}else if(c=="pHYs")b.tabs[c]=[g.readUint(n,l),g.readUint(n,l+4),n[l+8]];else if(c=="cHRM")for(b.tabs[c]=[],I=0;I<8;I++)b.tabs[c].push(g.readUint(n,l+4*I));else if(c=="tEXt"||c=="zTXt"){b.tabs[c]==null&&(b.tabs[c]={});var f=g.nextZero(n,l),p=g.readASCII(n,l,f-l),y=l+C-f-1;if(c=="tEXt")F=g.readASCII(n,f+1,y);else{var A=h(n.slice(f+2,f+2+y));F=g.readUTF8(A,0,A.length)}b.tabs[c][p]=F}else if(c=="iTXt"){b.tabs[c]==null&&(b.tabs[c]={}),f=0,o=l,f=g.nextZero(n,o),p=g.readASCII(n,o,f-o);const s=n[o=f+1];var F;n[o+1],o+=2,f=g.nextZero(n,o),g.readASCII(n,o,f-o),o=f+1,f=g.nextZero(n,o),g.readUTF8(n,o,f-o),y=C-((o=f+1)-l),s==0?F=g.readUTF8(n,o,y):(A=h(n.slice(o,o+y)),F=g.readUTF8(A,0,A.length)),b.tabs[c][p]=F}else if(c=="PLTE")b.tabs[c]=g.readBytes(n,l,C);else if(c=="hIST"){const s=b.tabs.PLTE.length/3;for(b.tabs[c]=[],I=0;I<s;I++)b.tabs[c].push(U(n,l+2*I))}else if(c=="tRNS")b.ctype==3?b.tabs[c]=g.readBytes(n,l,C):b.ctype==0?b.tabs[c]=U(n,l):b.ctype==2&&(b.tabs[c]=[U(n,l),U(n,l+2),U(n,l+4)]);else if(c=="gAMA")b.tabs[c]=g.readUint(n,l)/1e5;else if(c=="sRGB")b.tabs[c]=n[l];else if(c=="bKGD")b.ctype==0||b.ctype==4?b.tabs[c]=[U(n,l)]:b.ctype==2||b.ctype==6?b.tabs[c]=[U(n,l),U(n,l+2),U(n,l+4)]:b.ctype==3&&(b.tabs[c]=n[l]);else if(c=="IEND")break;l+=C,g.readUint(n,l),l+=4}var m;return j!=0&&((m=b.frames[b.frames.length-1]).data=O(b,M.slice(0,j),m.rect.width,m.rect.height)),b.data=O(b,L,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(i){const n=i.width,l=i.height;if(i.tabs.acTL==null)return[S(i.data,n,l,i).buffer];const g=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const U=n*l*4,_=new Uint8Array(U),b=new Uint8Array(U),L=new Uint8Array(U);for(let E=0;E<i.frames.length;E++){const j=i.frames[E],d=j.rect.x,I=j.rect.y,o=j.rect.width,f=j.rect.height,p=S(j.data,o,f,i);if(E!=0)for(var M=0;M<U;M++)L[M]=_[M];if(j.blend==0?w(p,o,f,_,n,l,d,I,0):j.blend==1&&w(p,o,f,_,n,l,d,I,1),g.push(_.buffer.slice(0)),j.dispose!=0){if(j.dispose==1)w(b,o,f,_,n,l,d,I,0);else if(j.dispose==2)for(M=0;M<U;M++)_[M]=L[M]}}return g},_paeth:a,_copyTile:w,_bin:T}}();(function(){const{_copyTile:T}=de,{_bin:S}=de,O=de._paeth;var h={table:function(){const o=new Uint32Array(256);for(let f=0;f<256;f++){let p=f;for(let y=0;y<8;y++)1&p?p=3988292384^p>>>1:p>>>=1;o[f]=p}return o}(),update(o,f,p,y){for(let A=0;A<y;A++)o=h.table[255&(o^f[p+A])]^o>>>8;return o},crc:(o,f,p)=>4294967295^h.update(4294967295,o,f,p)};function e(o,f,p,y){f[p]+=o[0]*y>>4,f[p+1]+=o[1]*y>>4,f[p+2]+=o[2]*y>>4,f[p+3]+=o[3]*y>>4}function t(o){return Math.max(0,Math.min(255,o))}function u(o,f){const p=o[0]-f[0],y=o[1]-f[1],A=o[2]-f[2],F=o[3]-f[3];return p*p+y*y+A*A+F*F}function a(o,f,p,y,A,F,m){m==null&&(m=1);const C=y.length,c=[];for(var s=0;s<C;s++){const R=y[s];c.push([R>>>0&255,R>>>8&255,R>>>16&255,R>>>24&255])}for(s=0;s<C;s++){let R=4294967295;for(var k=0,x=0;x<C;x++){var P=u(c[s],c[x]);x!=s&&P<R&&(R=P,k=x)}}const B=new Uint32Array(A.buffer),D=new Int16Array(f*p*4),N=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(s=0;s<N.length;s++)N[s]=255*((N[s]+.5)/16-.5);for(let R=0;R<p;R++)for(let $=0;$<f;$++){var H;s=4*(R*f+$),m!=2?H=[t(o[s]+D[s]),t(o[s+1]+D[s+1]),t(o[s+2]+D[s+2]),t(o[s+3]+D[s+3])]:(P=N[4*(3&R)+(3&$)],H=[t(o[s]+P),t(o[s+1]+P),t(o[s+2]+P),t(o[s+3]+P)]),k=0;let Z=16777215;for(x=0;x<C;x++){const q=u(H,c[x]);q<Z&&(Z=q,k=x)}const W=c[k],Q=[H[0]-W[0],H[1]-W[1],H[2]-W[2],H[3]-W[3]];m==1&&($!=f-1&&e(Q,D,s+4,7),R!=p-1&&($!=0&&e(Q,D,s+4*f-4,3),e(Q,D,s+4*f,5),$!=f-1&&e(Q,D,s+4*f+4,1))),F[s>>2]=k,B[s>>2]=y[k]}}function v(o,f,p,y,A){A==null&&(A={});const{crc:F}=h,m=S.writeUint,C=S.writeUshort,c=S.writeASCII;let s=8;const k=o.frames.length>1;let x,P=!1,B=33+(k?20:0);if(A.sRGB!=null&&(B+=13),A.pHYs!=null&&(B+=21),A.iCCP!=null&&(x=pako.deflate(A.iCCP),B+=21+x.length+4),o.ctype==3){for(var D=o.plte.length,N=0;N<D;N++)o.plte[N]>>>24!=255&&(P=!0);B+=8+3*D+4+(P?8+1*D+4:0)}for(var H=0;H<o.frames.length;H++)k&&(B+=38),B+=(W=o.frames[H]).cimg.length+12,H!=0&&(B+=4);B+=12;const R=new Uint8Array(B),$=[137,80,78,71,13,10,26,10];for(N=0;N<8;N++)R[N]=$[N];if(m(R,s,13),s+=4,c(R,s,"IHDR"),s+=4,m(R,s,f),s+=4,m(R,s,p),s+=4,R[s]=o.depth,s++,R[s]=o.ctype,s++,R[s]=0,s++,R[s]=0,s++,R[s]=0,s++,m(R,s,F(R,s-17,17)),s+=4,A.sRGB!=null&&(m(R,s,1),s+=4,c(R,s,"sRGB"),s+=4,R[s]=A.sRGB,s++,m(R,s,F(R,s-5,5)),s+=4),A.iCCP!=null){const Q=13+x.length;m(R,s,Q),s+=4,c(R,s,"iCCP"),s+=4,c(R,s,"ICC profile"),s+=11,s+=2,R.set(x,s),s+=x.length,m(R,s,F(R,s-(Q+4),Q+4)),s+=4}if(A.pHYs!=null&&(m(R,s,9),s+=4,c(R,s,"pHYs"),s+=4,m(R,s,A.pHYs[0]),s+=4,m(R,s,A.pHYs[1]),s+=4,R[s]=A.pHYs[2],s++,m(R,s,F(R,s-13,13)),s+=4),k&&(m(R,s,8),s+=4,c(R,s,"acTL"),s+=4,m(R,s,o.frames.length),s+=4,m(R,s,A.loop!=null?A.loop:0),s+=4,m(R,s,F(R,s-12,12)),s+=4),o.ctype==3){for(m(R,s,3*(D=o.plte.length)),s+=4,c(R,s,"PLTE"),s+=4,N=0;N<D;N++){const Q=3*N,q=o.plte[N],Y=255&q,te=q>>>8&255,Ue=q>>>16&255;R[s+Q+0]=Y,R[s+Q+1]=te,R[s+Q+2]=Ue}if(s+=3*D,m(R,s,F(R,s-3*D-4,3*D+4)),s+=4,P){for(m(R,s,D),s+=4,c(R,s,"tRNS"),s+=4,N=0;N<D;N++)R[s+N]=o.plte[N]>>>24&255;s+=D,m(R,s,F(R,s-D-4,D+4)),s+=4}}let Z=0;for(H=0;H<o.frames.length;H++){var W=o.frames[H];k&&(m(R,s,26),s+=4,c(R,s,"fcTL"),s+=4,m(R,s,Z++),s+=4,m(R,s,W.rect.width),s+=4,m(R,s,W.rect.height),s+=4,m(R,s,W.rect.x),s+=4,m(R,s,W.rect.y),s+=4,C(R,s,y[H]),s+=2,C(R,s,1e3),s+=2,R[s]=W.dispose,s++,R[s]=W.blend,s++,m(R,s,F(R,s-30,30)),s+=4);const Q=W.cimg;m(R,s,(D=Q.length)+(H==0?0:4)),s+=4;const q=s;c(R,s,H==0?"IDAT":"fdAT"),s+=4,H!=0&&(m(R,s,Z++),s+=4),R.set(Q,s),s+=D,m(R,s,F(R,q,s-q)),s+=4}return m(R,s,0),s+=4,c(R,s,"IEND"),s+=4,m(R,s,F(R,s-4,4)),s+=4,R.buffer}function w(o,f,p){for(let y=0;y<o.frames.length;y++){const A=o.frames[y];A.rect.width;const F=A.rect.height,m=new Uint8Array(F*A.bpl+F);A.cimg=l(A.img,F,A.bpp,A.bpl,m,f,p)}}function r(o,f,p,y,A){const F=A[0],m=A[1],C=A[2],c=A[3],s=A[4],k=A[5];let x=6,P=8,B=255;for(var D=0;D<o.length;D++){const re=new Uint8Array(o[D]);for(var N=re.length,H=0;H<N;H+=4)B&=re[H+3]}const R=B!=255,$=function(V,G,ne,ae,J,le){const ee=[];for(var K=0;K<V.length;K++){const se=new Uint8Array(V[K]),he=new Uint32Array(se.buffer);var ce;let ue=0,be=0,pe=G,xe=ne,Be=ae?1:0;if(K!=0){const lt=le||ae||K==1||ee[K-2].dispose!=0?1:2;let $e=0,Ge=1e9;for(let Te=0;Te<lt;Te++){var ye=new Uint8Array(V[K-1-Te]);const ct=new Uint32Array(V[K-1-Te]);let we=G,Ae=ne,_e=-1,Se=-1;for(let Ce=0;Ce<ne;Ce++)for(let Ee=0;Ee<G;Ee++)he[ie=Ce*G+Ee]!=ct[ie]&&(Ee<we&&(we=Ee),Ee>_e&&(_e=Ee),Ce<Ae&&(Ae=Ce),Ce>Se&&(Se=Ce));_e==-1&&(we=Ae=_e=Se=0),J&&((1&we)==1&&we--,(1&Ae)==1&&Ae--);const Ke=(_e-we+1)*(Se-Ae+1);Ke<Ge&&(Ge=Ke,$e=Te,ue=we,be=Ae,pe=_e-we+1,xe=Se-Ae+1)}ye=new Uint8Array(V[K-1-$e]),$e==1&&(ee[K-1].dispose=2),ce=new Uint8Array(pe*xe*4),T(ye,G,ne,ce,pe,xe,-ue,-be,0),Be=T(se,G,ne,ce,pe,xe,-ue,-be,3)?1:0,Be==1?n(se,G,ne,ce,{x:ue,y:be,width:pe,height:xe}):T(se,G,ne,ce,pe,xe,-ue,-be,0)}else ce=se.slice(0);ee.push({rect:{x:ue,y:be,width:pe,height:xe},img:ce,blend:Be,dispose:0})}if(ae)for(K=0;K<ee.length;K++){if((Fe=ee[K]).blend==1)continue;const se=Fe.rect,he=ee[K-1].rect,ue=Math.min(se.x,he.x),be=Math.min(se.y,he.y),pe={x:ue,y:be,width:Math.max(se.x+se.width,he.x+he.width)-ue,height:Math.max(se.y+se.height,he.y+he.height)-be};ee[K-1].dispose=1,K-1!=0&&i(V,G,ne,ee,K-1,pe,J),i(V,G,ne,ee,K,pe,J)}let je=0;if(V.length!=1)for(var ie=0;ie<ee.length;ie++){var Fe;je+=(Fe=ee[ie]).rect.width*Fe.rect.height}return ee}(o,f,p,F,m,C),Z={},W=[],Q=[];if(y!=0){const re=[];for(H=0;H<$.length;H++)re.push($[H].img.buffer);const V=function(J){let le=0;for(var ee=0;ee<J.length;ee++)le+=J[ee].byteLength;const K=new Uint8Array(le);let ce=0;for(ee=0;ee<J.length;ee++){const ye=new Uint8Array(J[ee]),je=ye.length;for(let ie=0;ie<je;ie+=4){let Fe=ye[ie],se=ye[ie+1],he=ye[ie+2];const ue=ye[ie+3];ue==0&&(Fe=se=he=0),K[ce+ie]=Fe,K[ce+ie+1]=se,K[ce+ie+2]=he,K[ce+ie+3]=ue}ce+=je}return K.buffer}(re),G=U(V,y);for(H=0;H<G.plte.length;H++)W.push(G.plte[H].est.rgba);let ne=0;for(H=0;H<$.length;H++){const ae=(Y=$[H]).img.length;var q=new Uint8Array(G.inds.buffer,ne>>2,ae>>2);Q.push(q);const J=new Uint8Array(G.abuf,ne,ae);k&&a(Y.img,Y.rect.width,Y.rect.height,W,J,q),Y.img.set(J),ne+=ae}}else for(D=0;D<$.length;D++){var Y=$[D];const re=new Uint32Array(Y.img.buffer);var te=Y.rect.width;for(N=re.length,q=new Uint8Array(N),Q.push(q),H=0;H<N;H++){const V=re[H];if(H!=0&&V==re[H-1])q[H]=q[H-1];else if(H>te&&V==re[H-te])q[H]=q[H-te];else{let G=Z[V];if(G==null&&(Z[V]=G=W.length,W.push(V),W.length>=300))break;q[H]=G}}}const Ue=W.length;for(Ue<=256&&s==0&&(P=Ue<=2?1:Ue<=4?2:Ue<=16?4:8,P=Math.max(P,c)),D=0;D<$.length;D++){(Y=$[D]).rect.x,Y.rect.y,te=Y.rect.width;const re=Y.rect.height;let V=Y.img;new Uint32Array(V.buffer);let G=4*te,ne=4;if(Ue<=256&&s==0){G=Math.ceil(P*te/8);var ge=new Uint8Array(G*re);const ae=Q[D];for(let J=0;J<re;J++){H=J*G;const le=J*te;if(P==8)for(var X=0;X<te;X++)ge[H+X]=ae[le+X];else if(P==4)for(X=0;X<te;X++)ge[H+(X>>1)]|=ae[le+X]<<4-4*(1&X);else if(P==2)for(X=0;X<te;X++)ge[H+(X>>2)]|=ae[le+X]<<6-2*(3&X);else if(P==1)for(X=0;X<te;X++)ge[H+(X>>3)]|=ae[le+X]<<7-1*(7&X)}V=ge,x=3,ne=1}else if(R==0&&$.length==1){ge=new Uint8Array(te*re*3);const ae=te*re;for(H=0;H<ae;H++){const J=3*H,le=4*H;ge[J]=V[le],ge[J+1]=V[le+1],ge[J+2]=V[le+2]}V=ge,x=2,ne=3,G=3*te}Y.img=V,Y.bpl=G,Y.bpp=ne}return{ctype:x,depth:P,plte:W,frames:$}}function i(o,f,p,y,A,F,m){const C=Uint8Array,c=Uint32Array,s=new C(o[A-1]),k=new c(o[A-1]),x=A+1<o.length?new C(o[A+1]):null,P=new C(o[A]),B=new c(P.buffer);let D=f,N=p,H=-1,R=-1;for(let Z=0;Z<F.height;Z++)for(let W=0;W<F.width;W++){const Q=F.x+W,q=F.y+Z,Y=q*f+Q,te=B[Y];te==0||y[A-1].dispose==0&&k[Y]==te&&(x==null||x[4*Y+3]!=0)||(Q<D&&(D=Q),Q>H&&(H=Q),q<N&&(N=q),q>R&&(R=q))}H==-1&&(D=N=H=R=0),m&&((1&D)==1&&D--,(1&N)==1&&N--),F={x:D,y:N,width:H-D+1,height:R-N+1};const $=y[A];$.rect=F,$.blend=1,$.img=new Uint8Array(F.width*F.height*4),y[A-1].dispose==0?(T(s,f,p,$.img,F.width,F.height,-F.x,-F.y,0),n(P,f,p,$.img,F)):T(P,f,p,$.img,F.width,F.height,-F.x,-F.y,0)}function n(o,f,p,y,A){T(o,f,p,y,A.width,A.height,-A.x,-A.y,2)}function l(o,f,p,y,A,F,m){const C=[];let c,s=[0,1,2,3,4];F!=-1?s=[F]:(f*y>5e5||p==1)&&(s=[0]),m&&(c={level:0});const k=wt;for(var x=0;x<s.length;x++){for(let D=0;D<f;D++)g(A,o,D,y,p,s[x]);C.push(k.deflate(A,c))}let P,B=1e9;for(x=0;x<C.length;x++)C[x].length<B&&(P=x,B=C[x].length);return C[P]}function g(o,f,p,y,A,F){const m=p*y;let C=m+p;if(o[C]=F,C++,F==0)if(y<500)for(var c=0;c<y;c++)o[C+c]=f[m+c];else o.set(new Uint8Array(f.buffer,m,y),C);else if(F==1){for(c=0;c<A;c++)o[C+c]=f[m+c];for(c=A;c<y;c++)o[C+c]=f[m+c]-f[m+c-A]+256&255}else if(p==0){for(c=0;c<A;c++)o[C+c]=f[m+c];if(F==2)for(c=A;c<y;c++)o[C+c]=f[m+c];if(F==3)for(c=A;c<y;c++)o[C+c]=f[m+c]-(f[m+c-A]>>1)+256&255;if(F==4)for(c=A;c<y;c++)o[C+c]=f[m+c]-O(f[m+c-A],0,0)+256&255}else{if(F==2)for(c=0;c<y;c++)o[C+c]=f[m+c]+256-f[m+c-y]&255;if(F==3){for(c=0;c<A;c++)o[C+c]=f[m+c]+256-(f[m+c-y]>>1)&255;for(c=A;c<y;c++)o[C+c]=f[m+c]+256-(f[m+c-y]+f[m+c-A]>>1)&255}if(F==4){for(c=0;c<A;c++)o[C+c]=f[m+c]+256-O(0,f[m+c-y],0)&255;for(c=A;c<y;c++)o[C+c]=f[m+c]+256-O(f[m+c-A],f[m+c-y],f[m+c-A-y])&255}}}function U(o,f){const p=new Uint8Array(o),y=p.slice(0),A=new Uint32Array(y.buffer),F=_(y,f),m=F[0],C=F[1],c=p.length,s=new Uint8Array(c>>2);let k;if(p.length<2e7)for(var x=0;x<c;x+=4)k=b(m,P=p[x]*(1/255),B=p[x+1]*(1/255),D=p[x+2]*(1/255),N=p[x+3]*(1/255)),s[x>>2]=k.ind,A[x>>2]=k.est.rgba;else for(x=0;x<c;x+=4){var P=p[x]*.00392156862745098,B=p[x+1]*(1/255),D=p[x+2]*(1/255),N=p[x+3]*(1/255);for(k=m;k.left;)k=L(k.est,P,B,D,N)<=0?k.left:k.right;s[x>>2]=k.ind,A[x>>2]=k.est.rgba}return{abuf:y.buffer,inds:s,plte:C}}function _(o,f,p){p==null&&(p=1e-4);const y=new Uint32Array(o.buffer),A={i0:0,i1:o.length,bst:null,est:null,tdst:0,left:null,right:null};A.bst=j(o,A.i0,A.i1),A.est=d(A.bst);const F=[A];for(;F.length<f;){let C=0,c=0;for(var m=0;m<F.length;m++)F[m].est.L>C&&(C=F[m].est.L,c=m);if(C<p)break;const s=F[c],k=M(o,y,s.i0,s.i1,s.est.e,s.est.eMq255);if(s.i0>=k||s.i1<=k){s.est.L=0;continue}const x={i0:s.i0,i1:k,bst:null,est:null,tdst:0,left:null,right:null};x.bst=j(o,x.i0,x.i1),x.est=d(x.bst);const P={i0:k,i1:s.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:s.bst.N-x.bst.N},m=0;m<16;m++)P.bst.R[m]=s.bst.R[m]-x.bst.R[m];for(m=0;m<4;m++)P.bst.m[m]=s.bst.m[m]-x.bst.m[m];P.est=d(P.bst),s.left=x,s.right=P,F[c]=x,F.push(P)}for(F.sort((C,c)=>c.bst.N-C.bst.N),m=0;m<F.length;m++)F[m].ind=m;return[A,F]}function b(o,f,p,y,A){if(o.left==null)return o.tdst=function(x,P,B,D,N){const H=P-x[0],R=B-x[1],$=D-x[2],Z=N-x[3];return H*H+R*R+$*$+Z*Z}(o.est.q,f,p,y,A),o;const F=L(o.est,f,p,y,A);let m=o.left,C=o.right;F>0&&(m=o.right,C=o.left);const c=b(m,f,p,y,A);if(c.tdst<=F*F)return c;const s=b(C,f,p,y,A);return s.tdst<c.tdst?s:c}function L(o,f,p,y,A){const{e:F}=o;return F[0]*f+F[1]*p+F[2]*y+F[3]*A-o.eMq}function M(o,f,p,y,A,F){for(y-=4;p<y;){for(;E(o,p,A)<=F;)p+=4;for(;E(o,y,A)>F;)y-=4;if(p>=y)break;const m=f[p>>2];f[p>>2]=f[y>>2],f[y>>2]=m,p+=4,y-=4}for(;E(o,p,A)>F;)p-=4;return p+4}function E(o,f,p){return o[f]*p[0]+o[f+1]*p[1]+o[f+2]*p[2]+o[f+3]*p[3]}function j(o,f,p){const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=[0,0,0,0],F=p-f>>2;for(let m=f;m<p;m+=4){const C=o[m]*.00392156862745098,c=o[m+1]*(1/255),s=o[m+2]*(1/255),k=o[m+3]*(1/255);A[0]+=C,A[1]+=c,A[2]+=s,A[3]+=k,y[0]+=C*C,y[1]+=C*c,y[2]+=C*s,y[3]+=C*k,y[5]+=c*c,y[6]+=c*s,y[7]+=c*k,y[10]+=s*s,y[11]+=s*k,y[15]+=k*k}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m:A,N:F}}function d(o){const{R:f}=o,{m:p}=o,{N:y}=o,A=p[0],F=p[1],m=p[2],C=p[3],c=y==0?0:1/y,s=[f[0]-A*A*c,f[1]-A*F*c,f[2]-A*m*c,f[3]-A*C*c,f[4]-F*A*c,f[5]-F*F*c,f[6]-F*m*c,f[7]-F*C*c,f[8]-m*A*c,f[9]-m*F*c,f[10]-m*m*c,f[11]-m*C*c,f[12]-C*A*c,f[13]-C*F*c,f[14]-C*m*c,f[15]-C*C*c],k=s,x=I;let P=[Math.random(),Math.random(),Math.random(),Math.random()],B=0,D=0;if(y!=0)for(let H=0;H<16&&(P=x.multVec(k,P),D=Math.sqrt(x.dot(P,P)),P=x.sml(1/D,P),!(H!=0&&Math.abs(D-B)<1e-9));H++)B=D;const N=[A*c,F*c,m*c,C*c];return{Cov:s,q:N,e:P,L:B,eMq255:x.dot(x.sml(255,N),P),eMq:x.dot(P,N),rgba:(Math.round(255*N[3])<<24|Math.round(255*N[2])<<16|Math.round(255*N[1])<<8|Math.round(255*N[0])<<0)>>>0}}var I={multVec:(o,f)=>[o[0]*f[0]+o[1]*f[1]+o[2]*f[2]+o[3]*f[3],o[4]*f[0]+o[5]*f[1]+o[6]*f[2]+o[7]*f[3],o[8]*f[0]+o[9]*f[1]+o[10]*f[2]+o[11]*f[3],o[12]*f[0]+o[13]*f[1]+o[14]*f[2]+o[15]*f[3]],dot:(o,f)=>o[0]*f[0]+o[1]*f[1]+o[2]*f[2]+o[3]*f[3],sml:(o,f)=>[o*f[0],o*f[1],o*f[2],o*f[3]]};de.encode=function(f,p,y,A,F,m,C){A==null&&(A=0),C==null&&(C=!1);const c=r(f,p,y,A,[!1,!1,!1,0,C,!1]);return w(c,-1),v(c,p,y,F,m)},de.encodeLL=function(f,p,y,A,F,m,C,c){const s={ctype:0+(A==1?0:2)+(F==0?0:4),depth:m,frames:[]},k=(A+F)*m,x=k*p;for(let P=0;P<f.length;P++)s.frames.push({rect:{x:0,y:0,width:p,height:y},img:new Uint8Array(f[P]),blend:0,dispose:1,bpp:Math.ceil(k/8),bpl:Math.ceil(x/8)});return w(s,0,!0),v(s,p,y,C,c)},de.encode.compress=r,de.encode.dither=a,de.quantize=U,de.quantize.getKDtree=_,de.quantize.getNearest=b})();const Je={toArrayBuffer(T,S){const O=T.width,h=T.height,e=O<<2,t=T.getContext("2d").getImageData(0,0,O,h),u=new Uint32Array(t.data.buffer),a=(32*O+31)/32<<2,v=a*h,w=122+v,r=new ArrayBuffer(w),i=new DataView(r),n=1<<20;let l,g,U,_,b=n,L=0,M=0,E=0;function j(o){i.setUint16(M,o,!0),M+=2}function d(o){i.setUint32(M,o,!0),M+=4}function I(o){M+=o}j(19778),d(w),I(4),d(122),d(108),d(O),d(-h>>>0),j(1),j(32),d(3),d(v),d(2835),d(2835),I(8),d(16711680),d(65280),d(255),d(4278190080),d(1466527264),function o(){for(;L<h&&b>0;){for(_=122+L*a,l=0;l<e;)b--,g=u[E++],U=g>>>24,i.setUint32(_+l,g<<8|U),l+=4;L++}E<u.length?(b=n,setTimeout(o,Je._dly)):S(r)}()},toBlob(T,S){this.toArrayBuffer(T,O=>{S(new Blob([O],{type:"image/bmp"}))})},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},At={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const We=typeof window<"u",et=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=We&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ut=(We||et)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),tt=(We||et)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function qe(T,S,O=Date.now()){return new Promise(h=>{const e=T.split(","),t=e[0].match(/:(.*?);/)[1],u=globalThis.atob(e[1]);let a=u.length;const v=new Uint8Array(a);for(;a--;)v[a]=u.charCodeAt(a);const w=new Blob([v],{type:t});w.name=S,w.lastModified=O,h(w)})}function nt(T){return new Promise((S,O)=>{const h=new tt;h.onload=()=>S(h.result),h.onerror=e=>O(e),h.readAsDataURL(T)})}function rt(T){return new Promise((S,O)=>{const h=new Image;h.onload=()=>S(h),h.onerror=e=>O(e),h.src=T})}function Ie(){if(Ie.cachedResult!==void 0)return Ie.cachedResult;let T=fe.ETC;const{userAgent:S}=navigator;return/Chrom(e|ium)/i.test(S)?T=fe.CHROME:/iP(ad|od|hone)/i.test(S)&&/WebKit/i.test(S)?T=fe.IOS:/Safari/i.test(S)?T=fe.DESKTOP_SAFARI:/Firefox/i.test(S)?T=fe.FIREFOX:(/MSIE/i.test(S)||document.documentMode)&&(T=fe.IE),Ie.cachedResult=T,Ie.cachedResult}function it(T,S){const O=Ie(),h=At[O];let e=T,t=S,u=e*t;const a=e>t?t/e:e/t;for(;u>h*h;){const v=(h+e)/2,w=(h+t)/2;v<w?(t=w,e=w*a):(t=v*a,e=v),u=e*t}return{width:e,height:t}}function Ne(T,S){let O,h;try{if(O=new OffscreenCanvas(T,S),h=O.getContext("2d"),h===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{O=document.createElement("canvas"),h=O.getContext("2d")}return O.width=T,O.height=S,[O,h]}function ot(T,S){const{width:O,height:h}=it(T.width,T.height),[e,t]=Ne(O,h);return S&&/jpe?g/.test(S)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(T,0,0,e.width,e.height),e}function Pe(){return Pe.cachedResult!==void 0||(Pe.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Pe.cachedResult}function He(T,S={}){return new Promise(function(O,h){let e,t;var u=function(){try{return t=ot(e,S.fileType||T.type),O([e,t])}catch(v){return h(v)}},a=function(v){try{var w=function(r){try{throw r}catch(i){return h(i)}};try{let r;return nt(T).then(function(i){try{return r=i,rt(r).then(function(n){try{return e=n,function(){try{return u()}catch(l){return h(l)}}()}catch(l){return w(l)}},w)}catch(n){return w(n)}},w)}catch(r){w(r)}}catch(r){return h(r)}};try{if(Pe()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(Ie()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(T).then(function(v){try{return e=v,u()}catch{return a()}},a)}catch{a()}})}function De(T,S,O,h,e=1){return new Promise(function(t,u){let a;if(S==="image/png"){let w,r,i;return w=T.getContext("2d"),{data:r}=w.getImageData(0,0,T.width,T.height),i=de.encode([r.buffer],T.width,T.height,4096*e),a=new Blob([i],{type:S}),a.name=O,a.lastModified=h,v.call(this)}{let w=function(){return v.call(this)};if(S==="image/bmp")return new Promise(r=>Je.toBlob(T,r)).then((function(r){try{return a=r,a.name=O,a.lastModified=h,w.call(this)}catch(i){return u(i)}}).bind(this),u);{let r=function(){return w.call(this)};if(typeof OffscreenCanvas=="function"&&T instanceof OffscreenCanvas)return T.convertToBlob({type:S,quality:e}).then((function(i){try{return a=i,a.name=O,a.lastModified=h,r.call(this)}catch(n){return u(n)}}).bind(this),u);{let i;return i=T.toDataURL(S,e),qe(i,O,h).then((function(n){try{return a=n,r.call(this)}catch(l){return u(l)}}).bind(this),u)}}}function v(){return t(a)}})}function me(T){T.width=0,T.height=0}function Re(){return new Promise(function(T,S){let O,h,e,t;return Re.cachedResult!==void 0?T(Re.cachedResult):qe("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(u){try{return O=u,He(O).then(function(a){try{return h=a[1],De(h,O.type,O.name,O.lastModified).then(function(v){try{return e=v,me(h),He(e).then(function(w){try{return t=w[0],Re.cachedResult=t.width===1&&t.height===2,T(Re.cachedResult)}catch(r){return S(r)}},S)}catch(w){return S(w)}},S)}catch(v){return S(v)}},S)}catch(a){return S(a)}},S)})}function at(T){return new Promise((S,O)=>{const h=new tt;h.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return S(-2);const u=t.byteLength;let a=2;for(;a<u;){if(t.getUint16(a+2,!1)<=8)return S(-1);const v=t.getUint16(a,!1);if(a+=2,v==65505){if(t.getUint32(a+=2,!1)!=1165519206)return S(-1);const w=t.getUint16(a+=6,!1)==18761;a+=t.getUint32(a+4,w);const r=t.getUint16(a,w);a+=2;for(let i=0;i<r;i++)if(t.getUint16(a+12*i,w)==274)return S(t.getUint16(a+12*i+8,w))}else{if((65280&v)!=65280)break;a+=t.getUint16(a,!1)}}return S(-1)},h.onerror=e=>O(e),h.readAsArrayBuffer(T)})}function st(T,S){const{width:O}=T,{height:h}=T,{maxWidthOrHeight:e}=S;let t,u=T;return isFinite(e)&&(O>e||h>e)&&([u,t]=Ne(O,h),O>h?(u.width=e,u.height=h/O*e):(u.width=O/h*e,u.height=e),t.drawImage(T,0,0,u.width,u.height),me(T)),u}function ft(T,S){const{width:O}=T,{height:h}=T,[e,t]=Ne(O,h);switch(S>4&&S<9?(e.width=h,e.height=O):(e.width=O,e.height=h),S){case 2:t.transform(-1,0,0,1,O,0);break;case 3:t.transform(-1,0,0,-1,O,h);break;case 4:t.transform(1,0,0,-1,0,h);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,h,0);break;case 7:t.transform(0,-1,-1,0,h,O);break;case 8:t.transform(0,-1,1,0,0,O)}return t.drawImage(T,0,0,O,h),me(T),e}function Xe(T,S,O=0){return new Promise(function(h,e){let t,u,a,v,w,r,i,n,l,g,U,_,b,L,M,E,j,d,I,o;function f(y=5){if(S.signal&&S.signal.aborted)throw S.signal.reason;t+=y,S.onProgress(Math.min(t,100))}function p(y){if(S.signal&&S.signal.aborted)throw S.signal.reason;t=Math.min(Math.max(y,t),100),S.onProgress(t)}return t=O,u=S.maxIteration||10,a=1024*S.maxSizeMB*1024,f(),He(T,S).then((function(y){try{return[,v]=y,f(),w=st(v,S),f(),new Promise(function(A,F){var m;if(!(m=S.exifOrientation))return at(T).then((function(c){try{return m=c,C.call(this)}catch(s){return F(s)}}).bind(this),F);function C(){return A(m)}return C.call(this)}).then((function(A){try{return r=A,f(),Re().then((function(F){try{return i=F?w:ft(w,r),f(),n=S.initialQuality||1,l=S.fileType||T.type,De(i,l,T.name,T.lastModified,n).then((function(m){try{{let c=function(){if(u--&&(M>a||M>b)){let k,x;return k=o?.95*I.width:I.width,x=o?.95*I.height:I.height,[j,d]=Ne(k,x),d.drawImage(I,0,0,k,x),n*=l==="image/png"?.85:.95,De(j,l,T.name,T.lastModified,n).then(function(P){try{return E=P,me(I),I=j,M=E.size,p(Math.min(99,Math.floor((L-M)/(L-a)*100))),c}catch(B){return e(B)}},e)}return[1]},s=function(){return me(I),me(j),me(w),me(i),me(v),p(100),h(E)};if(g=m,f(),U=g.size>a,_=g.size>T.size,!U&&!_)return p(100),h(g);var C;return b=T.size,L=g.size,M=L,I=i,o=!S.alwaysKeepResolution&&U,(C=(function(k){for(;k;){if(k.then)return void k.then(C,e);try{if(k.pop){if(k.length)return k.pop()?s.call(this):k;k=c}else k=k.call(this)}catch(x){return e(x)}}}).bind(this))(c)}}catch(c){return e(c)}}).bind(this),e)}catch(m){return e(m)}}).bind(this),e)}catch(F){return e(F)}}).bind(this),e)}catch(A){return e(A)}}).bind(this),e)})}const Ft=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Qe;function xt(T,S){return new Promise((O,h)=>{Qe||(Qe=function(u){const a=[];return a.push(u),URL.createObjectURL(new Blob(a))}(Ft));const e=new Worker(Qe);e.addEventListener("message",function(u){if(S.signal&&S.signal.aborted)e.terminate();else if(u.data.progress===void 0){if(u.data.error)return h(new Error(u.data.error)),void e.terminate();O(u.data.file),e.terminate()}else S.onProgress(u.data.progress)}),e.addEventListener("error",h),S.signal&&S.signal.addEventListener("abort",()=>{h(S.signal.reason),e.terminate()}),e.postMessage({file:T,imageCompressionLibUrl:S.libURL,options:{...S,onProgress:void 0,signal:void 0}})})}function oe(T,S){return new Promise(function(O,h){let e,t,u,a,v,w;if(e={...S},u=0,{onProgress:a}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,v=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=l=>{u=l,typeof a=="function"&&a(u)},!(T instanceof Blob||T instanceof Ut))return h(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(T.type))return h(new Error("The file given is not an image"));if(w=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!v||typeof Worker!="function"||w)return Xe(T,e).then((function(l){try{return t=l,n.call(this)}catch(g){return h(g)}}).bind(this),h);var r=(function(){try{return n.call(this)}catch(l){return h(l)}}).bind(this),i=function(l){try{return Xe(T,e).then(function(g){try{return t=g,r()}catch(U){return h(U)}},h)}catch(g){return h(g)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",xt(T,e).then(function(l){try{return t=l,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=T.name,t.lastModified=T.lastModified}catch{}try{e.preserveExif&&T.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===T.type)&&(t=Ye(T,t))}catch{}return O(t)}})}oe.getDataUrlFromFile=nt,oe.getFilefromDataUrl=qe,oe.loadImage=rt,oe.drawImageInCanvas=ot,oe.drawFileInCanvas=He,oe.canvasToFile=De,oe.getExifOrientation=at,oe.handleMaxWidthOrHeight=st,oe.followExifOrientation=ft,oe.cleanupCanvasMemory=me,oe.isAutoOrientationInBrowser=Re,oe.approximateBelowMaximumCanvasSizeOfBrowser=it,oe.copyExifWithoutOrientation=Ye,oe.getBrowserName=Ie,oe.version="2.0.2";const Ct=({onClose:T})=>{const[S,O]=ve.useState(""),[h,e]=ve.useState(null),[t,u]=ve.useState(""),[a,v]=ve.useState("banners"),[w,r]=ve.useState("banners"),[i,n]=ve.useState([]),[l,g]=ve.useState([null,null,null]),[U,_]=ve.useState(["","",""]),[b,L]=ve.useState(["","",""]);ve.useEffect(()=>{(async()=>{const I=Me(ke,`${w}/`),o=await ht(I);if(o.exists()){const f=o.val(),p=Object.keys(f).map(y=>({id:y,...f[y]}));n(p)}else n([])})()},[w]);const M=async(d,I=null)=>{if(d.target.files.length>0){const o=d.target.files[0],f={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};try{const p=await oe(o,f);if(I!==null){const y=[...l];y[I]=p,g(y)}else e(p)}catch(p){console.error("Error al comprimir la imagen:",p),alert("Hubo un error al comprimir la imagen.")}}},E=async d=>{d.preventDefault();try{const I=async(o,f)=>{const p=Ze(Ve,f);return await dt(p,o),await gt(p)};if(a==="containers"){const o=[];for(const[f,p]of l.entries())if(p){const y=await I(p,`${a}/container${f+1}/${p.name}`),A=U[f],F=b[f],m=Me(ke,`${a}/container${f+1}/`);o.push(ze(m,{title:A,photoURL:y,link:F}))}await Promise.all(o)}else if(a==="popup"){const o=await I(h,`${a}/${h.name}`),f=Me(ke,`${a}/`);await ze(f,{title:S,photoURL:o,link:t})}else{const o=await I(h,`${a}/${h.name}`),f=Me(ke,`${a}/`);await ze(f,{title:S,photoURL:o,link:t})}alert("Elemento guardado con éxito"),T()}catch(I){console.error("Error al guardar el elemento:",I),alert("Hubo un error al guardar el elemento.")}},j=async(d,I)=>{try{const o=Ze(Ve,I);await pt(o);const f=Me(ke,`${w}/${d}`);await vt(f),n(p=>p.filter(y=>y.id!==d)),alert("Elemento eliminado con éxito")}catch(o){console.error("Error al eliminar el elemento:",o),alert("Hubo un error al eliminar el elemento.")}};return z.jsx("div",{className:"banner-modal-overlay",onClick:d=>d.target.classList.contains("banner-modal-overlay")&&T(),children:z.jsxs("div",{className:"banner-modal-content",children:[z.jsx("h2",{children:"Cargar Imagen"}),z.jsxs("form",{className:"banner-form",onSubmit:E,children:[z.jsxs("div",{className:"form-group",children:[z.jsx("label",{htmlFor:"objectType",children:"Tipo de Objeto"}),z.jsxs("select",{id:"objectType",value:a,onChange:d=>v(d.target.value),children:[z.jsx("option",{value:"banners",children:"Banners"}),z.jsx("option",{value:"popup",children:"Popup"}),z.jsx("option",{value:"containers",children:"3 Contenedores"})]})]}),z.jsxs("div",{className:"form-group",children:[z.jsx("label",{htmlFor:"title",children:"Título"}),z.jsx("input",{id:"title",type:"text",value:S,onChange:d=>O(d.target.value),placeholder:"Ingrese el título"})]}),a==="containers"&&z.jsx("div",{className:"container-photos",children:[0,1,2].map(d=>z.jsxs("div",{className:"form-group",children:[z.jsxs("label",{htmlFor:`container-title-${d}`,children:["Título de Contenedor ",d+1]}),z.jsx("input",{id:`container-title-${d}`,type:"text",value:U[d],onChange:I=>{const o=[...U];o[d]=I.target.value,_(o)},placeholder:`Título del contenedor ${d+1}`}),z.jsxs("label",{htmlFor:`container-link-${d}`,children:["Link del Contenedor ",d+1]}),z.jsx("input",{id:`container-link-${d}`,type:"text",value:b[d],onChange:I=>{const o=[...b];o[d]=I.target.value,L(o)},placeholder:`Link del contenedor ${d+1}`}),z.jsxs("label",{htmlFor:`photo-${d}`,children:["Imagen ",d+1]}),z.jsx("input",{id:`photo-${d}`,type:"file",accept:"image/*",onChange:I=>M(I,d)})]},d))}),a!=="containers"&&z.jsxs("div",{className:"form-group",children:[z.jsx("label",{htmlFor:"link",children:"Link"}),z.jsx("input",{id:"link",type:"text",value:t,onChange:d=>u(d.target.value),placeholder:"Ingrese el link"})]}),z.jsxs("div",{className:"form-group",children:[z.jsx("label",{htmlFor:"photo",children:"Imagen"}),z.jsx("input",{id:"photo",type:"file",accept:"image/*",onChange:M})]}),z.jsxs("div",{className:"form-actions",children:[z.jsx("button",{type:"submit",children:"Guardar"}),z.jsx("button",{type:"button",onClick:T,children:"Cancelar"})]})]}),z.jsx("h3",{children:"Imágenes existentes"}),z.jsxs("div",{className:"form-group",children:[z.jsx("label",{htmlFor:"viewType",children:"Ver por tipo"}),z.jsxs("select",{id:"viewType",value:w,onChange:d=>r(d.target.value),children:[z.jsx("option",{value:"banners",children:"Banners"}),z.jsx("option",{value:"popup",children:"Popup"}),z.jsx("option",{value:"containers",children:"3 Contenedores"})]})]}),z.jsx("div",{className:"item-list",children:i.length===0?z.jsx("p",{children:"No hay elementos disponibles."}):i.map(d=>z.jsxs("div",{className:"item",children:[z.jsx("p",{children:d.title}),z.jsx("button",{onClick:()=>j(d.id,d.photoURL),children:"Eliminar"})]},d.id))})]})})};Ct.propTypes={onClose:ut.func.isRequired};export{Ct as default};
