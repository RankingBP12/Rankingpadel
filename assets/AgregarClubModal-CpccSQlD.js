import{r as o,j as e,d as f,s as j,u as v,g as C,e as N,f as y,p as L}from"./index-BDcw6WbW.js";import{P}from"./index-B05dcSbW.js";const R=({onClose:a})=>{const[s,u]=o.useState(""),[t,i]=o.useState(null),[c,d]=o.useState(""),[n,b]=o.useState(""),g=l=>{l.target.files.length>0&&i(l.target.files[0])},m=async l=>{if(l.preventDefault(),!t){alert("Por favor, seleccione un logo.");return}try{const r=f(j,`club-logos/${t.name}`);await v(r,t);const p=await C(r),x=N(y,"clubs/");await L(x,{name:s,logoURL:p,location:c,phone:n}),alert("Club guardado con éxito"),a()}catch(r){console.error("Error al guardar el club:",r),alert("Hubo un error al guardar el club.")}},h=l=>{l.target.classList.contains("agregar-club-modal-overlay")&&a()};return e.jsx("div",{className:"agregar-club-modal-overlay",onClick:h,children:e.jsxs("div",{className:"agregar-club-modal-content",children:[e.jsx("button",{className:"modal-close",onClick:a,children:"×"}),e.jsx("h2",{children:"Agregar Club"}),e.jsxs("form",{className:"agregar-club-form",onSubmit:m,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"clubName",children:"Nombre del Club"}),e.jsx("input",{id:"clubName",type:"text",value:s,onChange:l=>u(l.target.value),placeholder:"Ingrese el nombre del club",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"clubLogo",children:"Logo del Club"}),e.jsx("input",{id:"clubLogo",type:"file",accept:"image/*",onChange:g,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"clubLocation",children:"Ubicación del Club"}),e.jsx("input",{id:"clubLocation",type:"text",value:c,onChange:l=>d(l.target.value),placeholder:"Ingrese la ubicación del club",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"clubPhone",children:"Teléfono del Club"}),e.jsx("input",{id:"clubPhone",type:"text",value:n,onChange:l=>b(l.target.value),placeholder:"Ingrese el teléfono del club",required:!0})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"save-button",type:"submit",children:"Guardar"}),e.jsx("button",{className:"cancel-button",type:"button",onClick:a,children:"Cancelar"})]})]})]})})};R.propTypes={onClose:P.func.isRequired};export{R as default};
