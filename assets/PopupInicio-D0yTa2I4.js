import{r as e,j as a,a as g,d as b,g as j}from"./index-DM6dcnug.js";const S=()=>{const[p,u]=e.useState([]),[s,i]=e.useState(null),[f,d]=e.useState(!0),[r,m]=e.useState(!0),[h,x]=e.useState(6);e.useEffect(()=>{(async()=>{try{const t=g(b,"popup/"),n=await j(t);if(n.exists()){const c=n.val(),P=Object.keys(c).map(l=>({id:l,...c[l]}));u(P)}else console.log("No data available")}catch(t){console.error("Error al obtener los popups:",t)}})()},[]),e.useEffect(()=>{if(p.length>0){const o=Math.floor(Math.random()*p.length);i(p[o])}},[p]),e.useEffect(()=>{if(r){const o=setInterval(()=>{x(t=>(t===1&&(m(!1),clearInterval(o)),t-1))},1e3);return()=>clearInterval(o)}},[r]);const v=()=>{d(!1)};return f&&s?a.jsx("div",{className:"popup-overlay",children:a.jsxs("div",{className:"popup-content",children:[a.jsx("button",{className:"close-btn",onClick:v,disabled:r,children:r?`Espera ${h}s`:"X"}),a.jsx("a",{href:s.link||"#",target:s.link?"_blank":"",rel:"noopener noreferrer",children:a.jsx("img",{src:s.photoURL||"https://via.placeholder.com/500",alt:s.title||"Popup Image",className:"popup-image"})})]})}):null};export{S as default};
